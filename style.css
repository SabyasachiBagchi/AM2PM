:root {
  --color-background: #1a1a1a;
  --color-surface-rgb: 255, 255, 255; /* For glass effect */
  --color-primary: #00aaff;
  --color-primary-hover: #0088cc;
  --color-text-primary: #ffffff;
  --color-text-secondary: #b3b3b3;
  --color-border: rgba(255, 255, 255, 0.2);
  --color-shadow: rgba(0, 0, 0, 0.2);
  --color-danger: #ff4d4d;
  --color-lunch: #ffc107;
  --color-dinner: #17a2b8;

  --space-4: 4px; --space-8: 8px; --space-12: 12px; --space-16: 16px; --space-24: 24px;
  --font-size-sm: 0.875rem; --font-size-md: 1rem; --font-size-lg: 1.5rem;
  --radius-md: 12px; --radius-lg: 20px;
  --transition-speed: 0.3s;
}

body.light-mode {
  --color-background: #f0f2f5;
  --color-surface-rgb: 255, 255, 255;
  --color-primary: #007bff;
  --color-primary-hover: #0056b3;
  --color-text-primary: #212529;
  --color-text-secondary: #6c757d;
  --color-border: rgba(0, 0, 0, 0.1);
  --color-shadow: rgba(0, 0, 0, 0.1);
}

* { box-sizing: border-box; }
body { 
  margin: 0; 
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
  background-color: var(--color-background); 
  color: var(--color-text-primary); 
  transition: background-color var(--transition-speed), color var(--transition-speed); 
  overflow-x: hidden;
}
.hidden { display: none !important; }

#particles-js { position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: -1; }

.glass-effect {
  background: rgba(var(--color-surface-rgb), 0.1);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: 0 8px 32px 0 var(--color-shadow);
}

.modal { display: flex; position: fixed; inset: 0; justify-content: center; align-items: center; z-index: 100; }
.modal-content { padding: var(--space-24); width: 90%; max-width: 420px; text-align: center; }
.modal-header h2 { font-size: 1.8rem; margin-bottom: 8px; }

.app { min-height: 100vh; }
.main-content { padding: var(--space-24); max-width: 1400px; margin: auto; width: 100%; }
.view { animation: fadeIn 0.5s ease; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

.navbar { margin: var(--space-16); border-radius: 50px; padding: var(--space-8) var(--space-16); }
.navbar-content { display: flex; justify-content: space-between; align-items: center; max-width: 1400px; margin: auto; }
.navbar-brand { display: flex; align-items: center; gap: var(--space-12); font-weight: 600; font-size: 1.1rem; }
.navbar-controls { display: flex; align-items: center; gap: var(--space-16); }
.realtime-clock { text-align: center; }
#clock-time { font-weight: 600; }
#clock-date { font-size: var(--font-size-sm); color: var(--color-text-secondary); }

.theme-switcher, .day-detail-header, .payment-header, .stats-grid, .calendar-section, .meal-cards, .payment-form-card, .payment-history {
  margin-bottom: var(--space-24);
}
.dashboard-header, .day-detail-header, .payment-header { display: flex; justify-content: space-between; align-items: center; }
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: var(--space-16); }
.stat-card { padding: var(--space-24); transition: transform 0.3s ease; }
.stat-card:hover { transform: translateY(-5px); }
.stat-icon { font-size: 2rem; color: var(--color-primary); margin-bottom: 12px; }
.stat-content h3 { margin: 0; font-size: var(--font-size-lg); }
.stat-content p { margin: 0; color: var(--color-text-secondary); }

.calendar-section { padding: var(--space-24); }
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: var(--space-12); }
.day-cell { aspect-ratio: 1; padding: var(--space-8); transition: all 0.3s ease; display: flex; flex-direction: column; justify-content: space-between; }
.day-cell:not(.empty):hover { transform: scale(1.05); background: rgba(var(--color-surface-rgb), 0.2); }
.day-cell.empty { background: transparent; border: none; }
.day-cell.today .day-number { background-color: var(--color-primary); color: white; border-radius: 50%; }
.day-number { font-weight: 500; width: 1.8em; height: 1.8em; display: inline-flex; align-items: center; justify-content: center; }
.meal-dots { display: flex; gap: var(--space-4); margin-top: var(--space-4); height: 8px; }
.meal-dot { width: 8px; height: 8px; border-radius: 50%; }
.meal-dot.lunch { background-color: var(--color-lunch); }
.meal-dot.dinner { background-color: var(--color-dinner); }

.btn { padding: var(--space-12) var(--space-24); border-radius: 50px; border: 1px solid transparent; font-weight: 600; cursor: pointer; transition: all var(--transition-speed); }
.btn--primary { background: var(--color-primary); color: white; }
.btn--primary:hover { background: var(--color-primary-hover); transform: scale(1.05); }
.btn--outline { background: transparent; border-color: var(--color-border); color: var(--color-text-primary); }
.btn--outline:hover { background: var(--color-primary); color: white; border-color: var(--color-primary); }

.form-control { width: 100%; padding: var(--space-12); border-radius: var(--radius-md); border: 1px solid var(--color-border); background: rgba(var(--color-surface-rgb), 0.05); color: var(--color-text-primary); font-size: 1rem; }
.form-group { margin-bottom: var(--space-16); text-align: left; }
.form-label { margin-bottom: 8px; display: block; }

.fab { position: fixed; bottom: var(--space-24); right: var(--space-24); z-index: 40; }
.fab-button { width: 60px; height: 60px; border-radius: 50%; background: var(--color-primary); color: white; border: none; font-size: 1.5rem; cursor: pointer; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); transition: transform 0.3s; }
.fab-button:hover { transform: scale(1.1) rotate(45deg); }
.fab-menu { position: absolute; bottom: 70px; right: 0; display: flex; flex-direction: column; gap: var(--space-12); }
.fab-menu-item { display: flex; align-items: center; gap: var(--space-12); padding: var(--space-12) var(--space-16); border-radius: var(--radius-md); cursor: pointer; }
/* Other styles are inherited or can be added as needed */
